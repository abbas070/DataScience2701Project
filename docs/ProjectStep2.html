<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Elmurad Abbasov" />


<title>Stat 2701 Project Step 2</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CSCI 2701</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Step1.html">Stage One</a>
</li>
<li>
  <a href="ProjectStep2.html">Stage Two</a>
</li>
<li>
  <a href="ProjectStep3.html">Stage Three</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Stat 2701 Project Step 2</h1>
<h4 class="author">Elmurad Abbasov</h4>
<h4 class="date">Spring 2021</h4>

</div>


<a href=#"stage-one">Stage Two</a>
<ul>
<li>
<a href="#reminder-of-purpose">Reminder of purpose</a>
</li>
<li>
<a href="#data-description">Data description</a>
</li>
<li>
<a href="#data-overview">Data overview</a>
</li>
<li>
<a href="#summaries">Summaries</a>
</li>
<li>
<a href="#sanity">Sanity check</a>
</li>
<li>
<a href="#observation">Initial observations</a>
</li>
<li>
<a href="#future">Future work</a>
</li>
<li>
<a href="#appendix">Appendix</a>
</li>
</ul>
<div id="stage-one" class=section level2">
<h2> Stage Two </h2>
<p><strong>Warning:</strong> I have divided the modified dataset with ~1 million variables into two nearly even datasets to be able to upload them on GitHub. Thus, some of the statistical summaries might not match with the statements in this report. These inconsistencies will not affect results in Stage Three and Four.  Please email me at abbas070@umn.edu if you would like the original HTML webpage of this stage with correct summaries. </p>
<div id="reminder-of-purpose" class="section level3">
<h3>Reminder of purpose</h3>
<p>Using a vast dataset from the Office of Foreign Labor Certification, I will conduct a detailed study of the H-1B visa work market for this project (OFLC). In this analysis, I will be looking specifically for H1B employees in the United States, and as a result will conclude on which part of the United States offers the most jobs for H-1B qualified specialists, and whether there was an increase or decrease of such job offering through 2015-2016. </P>

<p> 1. <strong>What are the variables called?</strong> There are 10 columns in the dataset: case_status, employer_name, soc_name, job_title, full_time_position, prevailing_wage, year, worksite, lon(longitude of workcite), lat(latitute of workcite) </p>
<p> 2. <strong>What do they mean?</strong>
<p><strong>X1:</strong> which is the just the count of the rows;</p> 
<P><strong>CASE_STATUS:</strong> Status associated with the last significant event or decision, Valid values include “Certified,” “Certified-Withdrawn,” Denied,” and “Withdrawn”;</P>
<p><strong>EMPLOYER_NAME:</strong> Name of employer submitting the H1-B application, used in comparing salaries and number of applications of various employers;</P>
<p><strong>JOB_TITLE:</strong> Title of the job using which we can filter specific job positions for e.g., Data Scientist, Data Engineer etc;</P>
<p><strong>SOC_NAME:</strong> The occupation code for the employment;</P>
<p><strong>FULL_TIME_POSITION:</strong> Whether the application is for a full-time position of for a part-time position;</p>
<p><strong>PREVAILING_WAGE:</strong> The prevailing wage for a job position is defined as the average wage paid to similarly employed workers in the requested occupation in the area of intended employment; 
<P><strong>YEAR:</strong> The application year;</P>
<p><strong>WORKSITE_CITY/WORKSITE_STATE:</strong> The foreign worker’s intended area of employment;</p>
<p><strong>lon:</strong> Longitude of the employer worksite;</p>
<p><strong>lat:</strong> Latitude of the employer worksite</p>
<p><strong>STATE:</strong> Names of states in the United States</p>
</p>
<div id="data-description" class="section level3">
<h3>Data description</h3>
<div style="overflow-x: scroll;">
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> X </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> CASE_STATUS </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> EMPLOYER_NAME </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> SOC_NAME </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> JOB_TITLE </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> FULL_TIME_POSITION </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> PREVAILING_WAGE </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> YEAR </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> WORKSITE </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> lon </th>
   <th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;"> lat </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> UNIVERSITY OF MICHIGAN </td>
   <td style="text-align:center;"> BIOCHEMISTS AND BIOPHYSICISTS </td>
   <td style="text-align:center;"> POSTDOCTORAL RESEARCH FELLOW </td>
   <td style="text-align:center;"> N </td>
   <td style="text-align:center;"> 36067.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> ANN ARBOR, MICHIGAN </td>
   <td style="text-align:center;"> -83.74304 </td>
   <td style="text-align:center;"> 42.28083 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 2 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> GOODMAN NETWORKS, INC. </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> CHIEF OPERATING OFFICER </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 242674.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> PLANO, TEXAS </td>
   <td style="text-align:center;"> -96.69889 </td>
   <td style="text-align:center;"> 33.01984 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> PORTS AMERICA GROUP, INC. </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> CHIEF PROCESS OFFICER </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 193066.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> JERSEY CITY, NEW JERSEY </td>
   <td style="text-align:center;"> -74.07764 </td>
   <td style="text-align:center;"> 40.72816 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> GATES CORPORATION, A WHOLLY-OWNED SUBSIDIARY OF TOMKINS PLC </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> REGIONAL PRESIDEN, AMERICAS </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 220314.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> DENVER, COLORADO </td>
   <td style="text-align:center;"> -104.99025 </td>
   <td style="text-align:center;"> 39.73924 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> WITHDRAWN </td>
   <td style="text-align:center;"> PEABODY INVESTMENTS CORP. </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> PRESIDENT MONGOLIA AND INDIA </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 157518.4 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> ST. LOUIS, MISSOURI </td>
   <td style="text-align:center;"> -90.19940 </td>
   <td style="text-align:center;"> 38.62700 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> BURGER KING CORPORATION </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> EXECUTIVE V P, GLOBAL DEVELOPMENT AND PRESIDENT, LATIN AMERI </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 225000.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> MIAMI, FLORIDA </td>
   <td style="text-align:center;"> -80.19179 </td>
   <td style="text-align:center;"> 25.76168 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 7 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> BT AND MK ENERGY AND COMMODITIES </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> CHIEF OPERATING OFFICER </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 91021.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> HOUSTON, TEXAS </td>
   <td style="text-align:center;"> -95.36980 </td>
   <td style="text-align:center;"> 29.76043 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> GLOBO MOBILE TECHNOLOGIES, INC. </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> CHIEF OPERATIONS OFFICER </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 150000.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> SAN JOSE, CALIFORNIA </td>
   <td style="text-align:center;"> -121.88633 </td>
   <td style="text-align:center;"> 37.33821 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> CERTIFIED-WITHDRAWN </td>
   <td style="text-align:center;"> ESI COMPANIES INC. </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> PRESIDENT </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 127546.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> MEMPHIS, TEXAS </td>
   <td style="text-align:center;"> NA </td>
   <td style="text-align:center;"> NA </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> WITHDRAWN </td>
   <td style="text-align:center;"> LESSARD INTERNATIONAL LLC </td>
   <td style="text-align:center;"> CHIEF EXECUTIVES </td>
   <td style="text-align:center;"> PRESIDENT </td>
   <td style="text-align:center;"> Y </td>
   <td style="text-align:center;"> 154648.0 </td>
   <td style="text-align:center;"> 2016 </td>
   <td style="text-align:center;"> VIENNA, VIRGINIA </td>
   <td style="text-align:center;"> -77.26526 </td>
   <td style="text-align:center;"> 38.90122 </td>
  </tr>
</tbody>
</table>
</div>
<div id="data-overview" class="section level3">
<h3>Data overview</h3>
<p><strong>There were a couple transformations performed since last stage in preparation for future steps.</strong> First, I have trimmed the data to 2015 and 2016 years only to keep only the most relevant information available. Second, I have added a new column to the dataset - STATES - which serve as state names, in accordance with WORKCITY. Becuase a WORKCITE column contains both state names and city names, it would be problematic to perform data visualization on coropleth leaflet map, since it only takes states names. Because I am planning on making a leaflet map, I had to derive state names from the WORKCITE column and make a separate column for that. Due to the size of the data, I decided to perform the data transformation directly in Excel, and then uploaded an updated file into R using Upload button. <p>In addition, I have set to myself to make two coropleth maps - one about density of applicants per state, and the other one about the average wage per state. <p>Due to the size of data, to count applicants from each state and find average of wages per state, I decided to perform these manipulations in Excel and created two  new sub-tables called “AppCount” and "AvgWage". When I extracted states names from the WORKCITE column, I realized that each state is now attached to each row, with its own values. This gave me good grounds to use a COUNTIF function to count the overlapping states and thus found how many times each state repeats. I have then transformed this numeric values into another column called ApplicationCount and imported a new dataset - with States and ApplicationCount columns - into R, using Upload button. For finding an average of wages per state, I used AVERAGEIF function in Excel. Since STATE column was in the same order as PREVAILING_WAGE, I connected them both and derived an average (excluding 0s and NAs). Since the tables were already in .csv format, it didn’t cause any issues.</p></p>
</div>
</div>
</div>
</div>
<p>
<strong>Numeric summaries</strong>
</p>
<p>
The data has 997,411 records with 12 columns (variables) each:
</P>
<pre class="r"><code>c(nrow(df),ncol(df))</code></pre>
<pre><code>## [1] 1048575      11</code></pre>
<p>
The following variables have NAs: JOB_TITLE, FULL_TIME_POSITION, lon, lat, EMPLOYER_NAME, PREVAILING_WAGE, SOC_NAME
</P>
<pre class="r"><code>sapply(df,function(c){any(is.na(c))})</code></pre>
<pre><code>##                  X        CASE_STATUS      EMPLOYER_NAME           SOC_NAME 
##              FALSE              FALSE               TRUE               TRUE 
##          JOB_TITLE FULL_TIME_POSITION    PREVAILING_WAGE               YEAR 
##               TRUE               TRUE               TRUE              FALSE 
##           WORKSITE                lon                lat 
##              FALSE               TRUE               TRUE</code></pre>
<p>
There are 54736 NA entries in the entire dataset. A breakdown of NAs in individual columns will be shown below.
</P>
<pre class="r"><code>sum(is.na(df))</code></pre>
<pre><code>## [1] 59163</code></pre>
<div id="summaries" class="section level3 tabset">
<h3>
Summaries
</h3>
</div>
<p>
<strong>CASE_STATUS</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$CASE_STATUS)</code></pre>
<pre><code>##    Length     Class      Mode 
##   1048575 character character</code></pre>
<pre class="r"><code>table(df$CASE_STATUS)[1:10]</code></pre>
<pre><code>## 
##           CERTIFIED CERTIFIED-WITHDRAWN              DENIED           WITHDRAWN 
##              914251               83160               15670               35494 
##                &lt;NA&gt;                &lt;NA&gt;                &lt;NA&gt;                &lt;NA&gt; 
##                                                                                 
##                &lt;NA&gt;                &lt;NA&gt; 
## </code></pre>
<pre class="r"><code>length(unique(df$CASE_STATUS))</code></pre>
<pre><code>## [1] 4</code></pre>
<p>
Graphical summary
</p>
<pre class="r"><code>caseSum &lt;- df %&gt;% filter(!is.na(CASE_STATUS)) %&gt;% group_by(CASE_STATUS) %&gt;% summarise(loc = length(lat))
ggplot(data = caseSum, aes(x = reorder(CASE_STATUS,loc), y = loc/1000)) +  geom_bar(stat=&quot;identity&quot;,fill=&quot;lightblue&quot;, fill=&quot;grey&quot;) + coord_flip() +
labs(title=&quot;Graphical summary of CASE_STATUS&quot;, x =&quot;Case status&quot;, y = &quot;Number of applications in thousands&quot;)</code></pre>
<p><img src="ProjectStep2_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<strong>EMPLOYER_NAME</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$EMPLOYER_NAME)</code></pre>
<pre><code>##    Length     Class      Mode 
##   1048575 character character</code></pre>
<pre class="r"><code>table(df$EMPLOYER_NAME)[1:10]</code></pre>
<pre><code>## 
##              ? WHAT IF! USA LIMITED               ?WHAT IF! USA LIMITED 
##                                   2                                   4 
##                  .CLUB DOMAINS, LLC         &#39;K&#39; LINE LOGISTICS USA INC. 
##                                   4                                   1 
## (AMBI)DEXTROUS ASSET MANAGEMENT LLC                     @BUSINESS, INC. 
##                                   1                                   9 
##          &amp;QUOT;K&amp;QUOT; LINE AMERICA    &amp;QUOT;K&amp;QUOT; LINE AMERICA, INC. 
##                                   1                                   1 
##              &amp;TV COMMUNICATIONS INC             &amp;TV COMMUNICATIONS INC. 
##                                   3                                   5</code></pre>
<pre class="r"><code>length(unique(df$EMPLOYER_NAME))</code></pre>
<pre><code>## [1] 100248</code></pre>
<p>
Graphical summary
</p>
<p>
We can see from the graph top 20 employers hiring H1-B workers in 2015 and 2016, 3 of which are Infosys Limited, Tata consultancy services limited, and Wipro limited.
</p>
<pre class="r"><code>EmployerData &lt;-
  df %&gt;% group_by(EMPLOYER_NAME) %&gt;% summarise(loc = length(lat)) %&gt;% top_n(n = 20) %&gt;% ungroup()
ggplot(data = EmployerData, aes(x = reorder(EMPLOYER_NAME, loc), y = loc / 1000)) + geom_bar(stat = &quot;identity&quot;,fill=&quot;lightblue&quot;) + coord_flip() +
  labs(title = &quot;&quot;, x = &quot;Top 20 employers&quot;, y = &quot;Applicants in thousands&quot;)</code></pre>
<p><img src="ProjectStep2_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<strong>SOC_NAME</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$SOC_NAME)</code></pre>
<pre><code>##    Length     Class      Mode 
##   1048575 character character</code></pre>
<pre class="r"><code>table(df$SOC_NAME)[1:10]</code></pre>
<pre><code>## 
##                                       13-2011.01 
##                                                1 
##                                          15-1132 
##                                                1 
##                                       15-1199.01 
##                                                1 
## 15-1199.01 SW QUALITY ASSURANCE ENGNRS &amp; TESTERS 
##                                                1 
##       15-1199.08, BUSINESS INTELLIGENCE ANALYSTS 
##                                                1 
##                                          17-2051 
##                                                1 
##                                          17-2072 
##                                                1 
##                                          27-3031 
##                                                1 
##       29-1064.00-OBSTETRICIANS AND GYNECOLOGISTS 
##                                                1 
##                                       ACCOUNTANT 
##                                                2</code></pre>
<pre class="r"><code>length(unique(df$SOC_NAME))</code></pre>
<pre><code>## [1] 1199</code></pre>
<P>
There is no graphical summary since SOC_NAME serves just as an occupational code, and doesn’t mean to carry any insightful meaning
</p>
<p>
<strong>JOB_TITLE</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$JOB_TITLE)</code></pre>
<pre><code>##    Length     Class      Mode 
##   1048575 character character</code></pre>
<pre class="r"><code>table(df$JOB_TITLE)[1:10]</code></pre>
<pre><code>## 
##     MIDDLEWARE ADMINISTRATION.               BUSINESS ANALYST 
##                              2                              1 
##  BUSINESS INTELLIGENCE ANALYST                ORACLE APPS DBA 
##                              1                              1 
##               PROJECT MANAGERS                     QA ANALYST 
##                              1                              1 
##       SHAREPOINT/SQL DEVELOPER              SOFTWARE ENGINEER 
##                              1                             25 
##            SOFTWARE PROGRAMMER         SOFTWARE TEST ENGINEER 
##                             14                              1</code></pre>
<pre class="r"><code>length(unique(df$JOB_TITLE))</code></pre>
<pre><code>## [1] 120864</code></pre>
<p>
Graphical summary
</p>
<p>
As we can see from the graph, one of the most popular job titles from 2015-2016 are Programmer Analyst, Software Engineer, Software Developer, Computer Programmer, and more.
</p>
<pre class="r"><code>title_jobs &lt;- df %&gt;% group_by(JOB_TITLE) %&gt;% summarise(loc = length(lat)) %&gt;% 
  top_n(n=20) %&gt;% arrange(loc) %&gt;% ungroup() 

ggplot(data = title_jobs, aes(x = reorder(JOB_TITLE,loc), y = loc)) +  
  geom_bar(stat=&quot;identity&quot;,fill=&quot;lightblue&quot;) +
  coord_flip()  +
  labs(title=&quot;&quot;, x =&quot;Top 20 job title among H-1b workers&quot;, y = &quot;Number of applications&quot;)</code></pre>
<p><img src="ProjectStep2_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<strong>FULL_TIME_POSITION</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$FULL_TIME_POSITION)</code></pre>
<pre><code>##    Length     Class      Mode 
##   1048575 character character</code></pre>
<pre class="r"><code>table(df$FULL_TIME_POSITION)[1:10]</code></pre>
<pre><code>## 
##      N      Y   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt; 
## 361829 686745</code></pre>
<pre class="r"><code>length(unique(df$FULL_TIME_POSITION))</code></pre>
<pre><code>## [1] 3</code></pre>
<p>
Graphical summary
</p>
<p>
From this graph, we can see that more than 60% of applicants are employed full-time, and around 33% are part-time workers.
</p>
<pre class="r"><code>ggplot(data = subset(df, !is.na(df$FULL_TIME_POSITION)),
        aes(y = (..count..)*100/1048575, x = FULL_TIME_POSITION, fill = FULL_TIME_POSITION)) +
        geom_bar(fill=&quot;lightblue&quot;) +
        labs(x= &quot;Full time position (yes/no?)&quot;, y = &quot;Petitions made in percentage&quot;) +
        theme(legend.position = &quot;none&quot;) +
        scale_y_continuous(breaks = seq(0,100,10))</code></pre>
<img src="ProjectStep2_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;" />
<p>
<strong>PREVAILING_WAGE</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$PREVAILING_WAGE)</code></pre>
<pre><code>##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.      NA&#39;s 
##         0     56368     66518     89427     82472 329139200         4</code></pre>
<pre class="r"><code>table(df$PREVAILING_WAGE)[1:10]</code></pre>
<pre><code>## 
##       0      35 1278.94    2783    3900   12000   12584   15000   15080   15222 
##      17       1       1       1       1       1       4       1      26       1</code></pre>
<p>
Graphical summary
</p>
<p>
The following graph illustrates that an average salary in both 2015 and 2016 is more than $60k, and that it there is a slight raise in 2016.
</p>
<pre class="r"><code>wages &lt;- df %&gt;% filter(!is.na(PREVAILING_WAGE)) %&gt;% filter(PREVAILING_WAGE&gt;0) %&gt;% filter(!is.na(YEAR)) %&gt;% 
  group_by(YEAR) %&gt;% summarise(avg = mean(PREVAILING_WAGE)) 

ggplot(data = wages, aes(x = YEAR, y = avg)) +  
  geom_bar(stat=&quot;identity&quot;,fill=&quot;lightblue&quot;) +
  labs(title=&quot;&quot;, x =&quot;Year&quot;, y = &quot;Average salary&quot;, main=&quot;Prevailing wages in 2015 and 2016&quot;)</code></pre>
<p><img src="ProjectStep2_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
&lt;strongYEAR</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$YEAR)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    2015    2015    2016    2016    2016    2016</code></pre>
<pre class="r"><code>table(df$YEAR)[1:10]</code></pre>
<pre><code>## 
##   2015   2016   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt; 
## 400772 647803</code></pre>
<p>
Graphical summary
</p>
<p>
From here we can see that there was an increase of about 200,000 total H-1B applicants from 2015 to 2016
</p>
<pre class="r"><code>years &lt;- df %&gt;% filter(!is.na(YEAR)) %&gt;% group_by(YEAR) %&gt;% summarise(loc = length(lat))

ggplot(data = years, aes(x = reorder(YEAR,loc), y = loc/1000)) + geom_bar(stat=&quot;identity&quot;, fill=&quot;lightblue&quot;) +
  labs(title=&quot;A graph representing the difference of applicants of 2015 and 2016 years&quot;, x =&quot;Year&quot;, y = &quot;Number of applications  in thousands&quot;)</code></pre>
<p><img src="ProjectStep2_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<strong>WORKCITE</strong>
<p>
Numeric summary
</p>
</p>
<pre class="r"><code>summary(df$WORKSITE)</code></pre>
<pre><code>##    Length     Class      Mode 
##   1048575 character character</code></pre>
<pre class="r"><code>table(df$WORKSITE)[1:10]</code></pre>
<pre><code>## 
##     , CALIFORNIA        , FLORIDA       , ILLINOIS       , MARYLAND 
##                4                1                1                1 
##      , MINNESOTA       , MISSOURI       , NEW YORK , NORTH CAROLINA 
##                1                1                1                1 
## , SOUTH CAROLINA          , TEXAS 
##                1                1</code></pre>
<p>
Graphical summary
</p>
<p>
I will be presenting a coropleth leaflet map on density of applicants by state in the next stage.
</p>
<p>
<strong>STATE</strong>
<p>
Numeric summary
</p>
</p>
<p>
I will present geographical data using leaflet package in later stages.
</p>
<pre class="r"><code>length(table(df$STATE))</code></pre>
<pre><code>## [1] 0</code></pre>
<div id="sanity" class="section level3">
<h3>
Sanity checks
</h3>
<p>
A sanity check can be done on the years, to check that only entries from the years 2015 or 2016 are in the data set. Since those are the only years’ data that this project will be working with.
</p>
<pre class="r"><code>unique(df$YEAR)</code></pre>
<pre><code>## [1] 2016 2015</code></pre>
<p>
We can perform a sanity check for the <strong>CASE_STATUS</strong> variable to be certain that only there are only expected values in the data frame.
</p>
<pre class="r"><code>unique(df$CASE_STATUS)</code></pre>
<pre><code>## [1] &quot;CERTIFIED-WITHDRAWN&quot; &quot;WITHDRAWN&quot;           &quot;CERTIFIED&quot;          
## [4] &quot;DENIED&quot;</code></pre>
<p>
A sanity check on the ID variable can be done to check that no two entries or rows have the same ID.
</p>
<p>
A return of <strong>NULL</strong> is what we would want for this, because we do not want to see any ID that is in the variable more than once.
</p>
<pre class="r"><code> names(table(df$X1))[table(df$X1) &gt; 1]</code></pre>
<pre><code>## NULL</code></pre>
<p>
A sanity check on the <strong>FULL_TIME_POSITION</strong> variable can be done to check that there are no entries other than yes <strong>(Y)</strong>, no <strong>(N)</strong> , or <strong>NA</strong>.
</P>
<pre class="r"><code>unique(df$FULL_TIME_POSITION)</code></pre>
<pre><code>## [1] &quot;N&quot; &quot;Y&quot; NA</code></pre>
<p>
A sanity check on the <strong>PREVAILING_WAGE</strong> variable can be done to make sure there are no negative values (not including &lt;strong&lt;NA’s</strong> ) in the variable. This can be done by adding up all negative values in the variable, which should add up to 0, since no negative values are expected.
</p>
<pre class="r"><code>sum(na.omit(df$PREVAILING_WAGE) &lt; 0)</code></pre>
<pre><code>## [1] 0</code></pre>
<div id="observation" class="section level3">
<h3>
Initial observations
</h3>
<p>
There are many correlations that I can think of on this dataset. The fist one is that location influences the wage H-1B workers are receiving, such as the highest wage would be coming on major states such as California or New York. I have also observed that most of the employers are usually technology companies, and most of the positions offered to H-1B workers are technically-oriented titles, such as Software Engineer. I would love to discuss this more in the final stage.
</p>
<p>
<strong> I don’t see any major outliers in the data, because everything is within a reasonable scope. </strong>
<p>
<div id="future" class="section level3">
<h3>
Future work
</h3>
<p>
For the final stage, I would love to make a statistical report and discuss several correlations using graphs, as well as applying other techniques such as illustrating data on interactive maps, specifically with choropleth with leaflet package. In addition, I could utilize word cloud and text mining techniques for some illustrations.
</p>
<div id="appendix" class="section level3">
<h3>
Appendix
</h3>
<p>
I have been often using <a href="http://r-statistics.co/Complete-Ggplot2-Tutorial-Part1-With-R-Code.html">this</a> tutorial when building graphs using library(ggplot) package.
</p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
